// 백준 9375 패션왕 신해빈
#include <iostream>
#include <map>
using namespace std;

int main() {
    string name, kind;
    int n, t;
    cin >> t;
    while (t--) {
        map<string, int> m;
        cin >> n;
        while (n--) {
            cin >> name >> kind;
            if (m.find(kind) != m.end()) {
                m[kind]++;
            } else {
                m.insert({kind, 1});
            }
        }
        int cnt = 1;
        for (auto it : m) {
            cnt *= it.second + 1;
        }
        cnt -= 1;

        cout << cnt << endl;
    }
}
